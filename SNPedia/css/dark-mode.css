/* Dark mode specific overrides */

/* Tabulator dark mode specific overrides */
[data-theme="dark"] .tabulator-cell {
  color: var(--text-primary);
  border-right: 1px solid var(--border-color);
}

[data-theme="dark"] .tabulator-header {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
}

[data-theme="dark"] .tabulator-header .tabulator-col {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
  border-right: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .tabulator-header .tabulator-col-content {
  color: var(--text-primary) !important;
}

[data-theme="dark"] .tabulator-header .tabulator-col-title {
  color: var(--text-primary) !important;
}

[data-theme="dark"] .tabulator-header-filter input {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}

[data-theme="dark"] .tabulator-header-filter input:focus {
  border-color: #667eea;
  outline: none;
}

[data-theme="dark"] .tabulator-header-filter select {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}

/* Fix alternating row colors in dark mode */
[data-theme="dark"] .tabulator-row {
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
}

[data-theme="dark"] .tabulator-row.tabulator-row-odd {
  background-color: var(--bg-primary) !important;
}

[data-theme="dark"] .tabulator-row.tabulator-row-even {
  background-color: var(--bg-primary) !important;
}

[data-theme="dark"] .tabulator-row:hover {
  background-color: var(--bg-tertiary) !important;
}

[data-theme="dark"] .tabulator-row.tabulator-selected,
[data-theme="dark"] .tabulator-row.tabulator-selected:hover {
  background-color: var(--selection-bg) !important;
  border-left: 4px solid #667eea !important;
  box-shadow: inset 0 0 0 1px var(--selection-border);
}

/* Ensure all cells in dark mode have proper colors */
[data-theme="dark"] .tabulator-cell {
  background-color: inherit !important;
  color: var(--text-primary) !important;
}

/* Fix pagination in dark mode */
[data-theme="dark"] .tabulator-footer {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
  border-top: 1px solid var(--border-color);
}

[data-theme="dark"] .tabulator-page {
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
  border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .tabulator-page.active {
  background-color: #667eea !important;
  color: white !important;
}

[data-theme="dark"] .tabulator-page:hover {
  background-color: var(--bg-tertiary) !important;
  color: var(--text-primary) !important;
}

[data-theme="dark"] .tabulator-page.active:hover {
  background-color: #667eea !important;
  color: white !important;
}

/* Dark mode comprehensive overrides */
[data-theme="dark"] .tabulator-table .tabulator-row,
[data-theme="dark"] .tabulator-table .tabulator-row.tabulator-row-odd,
[data-theme="dark"] .tabulator-table .tabulator-row.tabulator-row-even,
[data-theme="dark"] .tabulator-tableHolder .tabulator-table .tabulator-row,
[data-theme="dark"] .tabulator-tableHolder .tabulator-table .tabulator-row.tabulator-row-odd,
[data-theme="dark"] .tabulator-tableHolder .tabulator-table .tabulator-row.tabulator-row-even {
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
}

/* Dark mode selection overrides with matching specificity */
[data-theme="dark"] .tabulator-table .tabulator-row.tabulator-selected,
[data-theme="dark"] .tabulator-table .tabulator-row.tabulator-selected.tabulator-row-odd,
[data-theme="dark"] .tabulator-table .tabulator-row.tabulator-selected.tabulator-row-even,
[data-theme="dark"] .tabulator-tableHolder .tabulator-table .tabulator-row.tabulator-selected,
[data-theme="dark"] .tabulator-tableHolder .tabulator-table .tabulator-row.tabulator-selected.tabulator-row-odd,
[data-theme="dark"] .tabulator-tableHolder .tabulator-table .tabulator-row.tabulator-selected.tabulator-row-even {
  background-color: var(--selection-bg) !important;
  color: var(--text-primary) !important;
  border-left: 4px solid #667eea !important;
}

/* Hover states */
[data-theme="dark"] .tabulator-table .tabulator-row:hover,
[data-theme="dark"] .tabulator-table .tabulator-row.tabulator-row-odd:hover,
[data-theme="dark"] .tabulator-table .tabulator-row.tabulator-row-even:hover {
  background-color: var(--bg-tertiary) !important;
  color: var(--text-primary) !important;
}

/* Selection states */
[data-theme="dark"] .tabulator-table .tabulator-row.tabulator-selected,
[data-theme="dark"] .tabulator-table .tabulator-row.tabulator-selected:hover {
  background-color: var(--selection-bg) !important;
  color: var(--text-primary) !important;
  border-left: 4px solid #667eea !important;
}

/* Comprehensive header styling for dark mode */
[data-theme="dark"] .tabulator-header,
[data-theme="dark"] .tabulator-header .tabulator-col,
[data-theme="dark"] .tabulator-header .tabulator-col-content,
[data-theme="dark"] .tabulator-header .tabulator-col-title,
[data-theme="dark"] .tabulator-header .tabulator-col-title-holder {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
}

/* Header filter styling for dark mode */
[data-theme="dark"] .tabulator-header-filter {
  background-color: var(--bg-secondary) !important;
}

[data-theme="dark"] .tabulator-header-filter input,
[data-theme="dark"] .tabulator-header-filter select {
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
  border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .tabulator-header-filter input::placeholder {
  color: var(--text-muted) !important;
}

/* Sort arrows and other header elements */
[data-theme="dark"] .tabulator-col-sorter {
  color: var(--text-primary) !important;
}

[data-theme="dark"] .tabulator-arrow {
  border-bottom-color: var(--text-primary) !important;
  border-top-color: var(--text-primary) !important;
}

/* CRITICAL: Dark mode toolbar overrides - MUST be at end of file for proper specificity */
html[data-theme="dark"] .toolbar {
  background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%) !important;
  box-shadow: 0 2px 8px var(--shadow-heavy) !important;
}

html[data-theme="dark"] .toolbar button {
  background-color: rgba(255, 255, 255, 0.1) !important;
  color: white !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

html[data-theme="dark"] .toolbar button:hover {
  background-color: rgba(255, 255, 255, 0.2) !important;
  box-shadow: 0 4px 12px var(--shadow-heavy) !important;
}

html[data-theme="dark"] .toolbar button.help-btn {
  background-color: rgba(255, 255, 255, 0.08) !important;
}

html[data-theme="dark"] .toolbar button.help-btn:hover {
  background-color: rgba(255, 255, 255, 0.15) !important;
}

html[data-theme="dark"] .toolbar button[onclick="clearAllFilters()"] {
  background-color: rgba(255, 87, 34, 0.2) !important;
  border-color: rgba(255, 87, 34, 0.4) !important;
  color: white !important;
}

html[data-theme="dark"] .toolbar button[onclick="clearAllFilters()"]:hover {
  background-color: rgba(255, 87, 34, 0.3) !important;
  border-color: rgba(255, 87, 34, 0.5) !important;
}

html[data-theme="dark"] .toolbar button[onclick="clearAllFilters()"].filters-active {
  background-color: rgba(255, 87, 34, 0.4) !important;
  border-color: rgba(255, 87, 34, 0.6) !important;
}

html[data-theme="dark"] .theme-toggle {
  background-color: rgba(255, 255, 255, 0.1) !important;
}

html[data-theme="dark"] .theme-toggle:hover {
  background-color: rgba(255, 255, 255, 0.2) !important;
}
